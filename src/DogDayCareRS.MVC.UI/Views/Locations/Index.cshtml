@model IEnumerable<DogDayCareRS.MVC.DATA.EF.Location>

@{
    ViewBag.Title = "Index";
}

<div class="home">
    <div class="parallax_background parallax-window" data-parallax="scroll" data-image-src="/Content/images/Homedoggo3.png" data-speed="0.8"></div>
</div>

@if (User.IsInRole("Admin") || (User.IsInRole("Employee")))
{
    <div class="btn btn-warning" style="margin-left: 2%; margin-bottom:2%; margin-top: 2%;">
        @Html.ActionLink("Create New", "Create")
    </div>}

    <div class="container">
        <div class="row">
            <div class="col">
                <div class="dataTables_Correct">
                    <table class="display cell-border" id="Locations-table" style="margin-top:2%; margin-bottom:2%;">
                        <thead>
                            <tr>
                                <th>
                                    @Html.DisplayNameFor(model => model.LocationName)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.Address)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.City)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.State)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.ZipCode)
                                </th>
                                <th>
                                    @Html.DisplayNameFor(model => model.ReservationLimit)
                                </th>
                                @if (User.IsInRole("Admin") || (User.IsInRole("Employee"))) { 
                                    <th></th>}
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.LocationName)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Address)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.City)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.State)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.ZipCode)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.ReservationLimit)
                                    </td>
                                    @if (User.IsInRole("Admin") || (User.IsInRole("Employee")))
                                    {
                                        <td>
                                            @Html.ActionLink("Edit", "Edit", new { id = item.LocationID }) |
                                            @Html.ActionLink("Details", "Details", new { id = item.LocationID }) |
                                            @Html.ActionLink("Delete", "Delete", new { id = item.LocationID })
                                        </td>}
                                </tr>
                            }
                        </tbody>
                    </table>
                    <hr />
                </div>
                </div>
            </div>
        </div>



                @section scripts {
                    <script>
                        $(document).ready(function () {
                            $('#Locations-table').DataTable({
                                "order": [[0, 'asc'], [5, 'asc']],
                                'columnDefs': [
                                    {
                                        'orderable': false,
                                        'searchable': false,
                                        'targets': [5, 6]
                                    },
                                ]
                            });

                        });
                    </script>
                }
